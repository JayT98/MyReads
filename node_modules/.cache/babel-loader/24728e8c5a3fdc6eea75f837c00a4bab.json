{"ast":null,"code":"var _jsxFileName = \"/Users/trungnguyen/Desktop/Udacity/Jay/nd0191-c1-myreads-main 4/starter/src/App.js\";\nimport \"./App.css\";\nimport React, { Component } from \"react\";\nimport { Route, Link } from \"react-router-dom\";\nimport { debounce } from \"throttle-debounce\";\nimport * as BooksAPI from \"./BooksAPI\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass BooksApp extends Component {\n  constructor() {\n    super(...arguments);\n    this.bookshelves = [{\n      key: \"currentlyReading\",\n      name: \"Currently Reading\"\n    }, {\n      key: \"wantToRead\",\n      name: \"Want to Read\"\n    }, {\n      key: \"read\",\n      name: \"Have Read\"\n    }];\n    this.state = {\n      myBooks: [],\n      searchBooks: []\n    };\n    this.componentDidMount = () => {\n      BooksAPI.getAll().then(books => {\n        this.setState({\n          myBooks: books\n        });\n      });\n    };\n    this.moveBook = (book, shelf) => {\n      BooksAPI.update(book, shelf);\n      let updatedBooks = [];\n      updatedBooks = this.state.myBooks.filter(b => b.id !== book.id);\n      if (shelf !== \"none\") {\n        book.shelf = shelf;\n        updatedBooks = updatedBooks.concat(book);\n      }\n      this.setState({\n        myBooks: updatedBooks\n      });\n    };\n    this.searchForBooks = debounce(300, false, query => {\n      if (query.length > 0) {\n        BooksAPI.search(query).then(books => {\n          // console.log(books);\n          if (books.error) {\n            this.setState({\n              searchBooks: []\n            });\n          } else {\n            this.setState({\n              searchBooks: books\n            });\n          }\n        });\n      } else {\n        this.setState({\n          searchBooks: []\n        });\n      }\n    });\n    this.resetSearch = () => {\n      this.setState({\n        searchBooks: []\n      });\n    };\n  }\n  render() {\n    const {\n      myBooks,\n      searchBooks\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        render: () => /*#__PURE__*/_jsxDEV(BookList, {\n          bookshelves: this.bookshelves,\n          books: myBooks,\n          onMove: this.moveBook\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/search\",\n        render: () => /*#__PURE__*/_jsxDEV(BookSearch, {\n          searchBooks: searchBooks,\n          myBooks: myBooks,\n          onSearch: this.searchForBooks,\n          onMove: this.moveBook,\n          onResetSearch: this.resetSearch\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default BooksApp;","map":{"version":3,"names":["React","Component","Route","Link","debounce","BooksAPI","jsxDEV","_jsxDEV","BooksApp","constructor","arguments","bookshelves","key","name","state","myBooks","searchBooks","componentDidMount","getAll","then","books","setState","moveBook","book","shelf","update","updatedBooks","filter","b","id","concat","searchForBooks","query","length","search","error","resetSearch","render","className","children","exact","path","BookList","onMove","fileName","_jsxFileName","lineNumber","columnNumber","BookSearch","onSearch","onResetSearch"],"sources":["/Users/trungnguyen/Desktop/Udacity/Jay/nd0191-c1-myreads-main 4/starter/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport React, { Component } from \"react\";\nimport { Route, Link } from \"react-router-dom\";\nimport { debounce } from \"throttle-debounce\";\nimport * as BooksAPI from \"./BooksAPI\";\n\nclass BooksApp extends Component {\n  bookshelves = [\n    { key: \"currentlyReading\", name: \"Currently Reading\" },\n    { key: \"wantToRead\", name: \"Want to Read\" },\n    { key: \"read\", name: \"Have Read\" },\n  ];\n  state = {\n    myBooks: [],\n    searchBooks: [],\n  };\n\n  componentDidMount = () => {\n    BooksAPI.getAll().then((books) => {\n      this.setState({ myBooks: books });\n    });\n  };\n\n  moveBook = (book, shelf) => {\n    BooksAPI.update(book, shelf);\n\n    let updatedBooks = [];\n    updatedBooks = this.state.myBooks.filter(b => b.id !== book.id);\n\n    if (shelf !== \"none\") {\n      book.shelf = shelf;\n      updatedBooks = updatedBooks.concat(book);\n    }\n\n    this.setState({\n      myBooks: updatedBooks,\n    });\n  };\n\n  searchForBooks = debounce(300, false, (query) => {\n    if (query.length > 0) {\n      BooksAPI.search(query).then(books => {\n        // console.log(books);\n        if (books.error) {\n          this.setState({ searchBooks: [] });\n        } else {\n          this.setState({ searchBooks: books });\n        }\n      });\n    } else {\n      this.setState({ searchBooks: [] });\n    }\n  });\n\n  resetSearch = () => {\n    this.setState({ searchBooks: [] });\n  };\n\n  render() {\n    const { myBooks, searchBooks } = this.state;\n    return (\n      <div className=\"app\">\n        <Route\n          exact\n          path=\"/\"\n          render={() => (\n            <BookList\n              bookshelves={this.bookshelves}\n              books={myBooks}\n              onMove={this.moveBook}\n            />\n          )}\n        />\n        <Route\n          path=\"/search\"\n          render={() => (\n            <BookSearch\n              searchBooks={searchBooks}\n              myBooks={myBooks}\n              onSearch={this.searchForBooks}\n              onMove={this.moveBook}\n              onResetSearch={this.resetSearch}\n            />\n          )}\n        />\n      </div>\n    );\n  }\n}\n\n\n\n\n\n\n\n\n\nexport default BooksApp;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}